graphics_api_sources = files([
                                'include/triglav/graphics_api/Array.hpp',
                                'include/triglav/graphics_api/Buffer.hpp',
                                'include/triglav/graphics_api/BufferHeap.hpp',
                                'include/triglav/graphics_api/CommandList.hpp',
                                'include/triglav/graphics_api/DescriptorArray.hpp',
                                'include/triglav/graphics_api/DescriptorPool.hpp',
                                'include/triglav/graphics_api/DescriptorLayoutCache.hpp',
                                'include/triglav/graphics_api/DescriptorView.hpp',
                                'include/triglav/graphics_api/DescriptorWriter.hpp',
                                'include/triglav/graphics_api/Device.hpp',
                                'include/triglav/graphics_api/Framebuffer.hpp',
                                'include/triglav/graphics_api/GraphicsApi.hpp',
                                'include/triglav/graphics_api/HostVisibleBuffer.hpp',
                                'include/triglav/graphics_api/Instance.hpp',
                                'include/triglav/graphics_api/Pipeline.hpp',
                                'include/triglav/graphics_api/PipelineBuilder.hpp',
                                'include/triglav/graphics_api/QueueManager.hpp',
                                'include/triglav/graphics_api/RenderTarget.hpp',
                                'include/triglav/graphics_api/ReplicatedBuffer.hpp',
                                'include/triglav/graphics_api/Sampler.hpp',
                                'include/triglav/graphics_api/SamplerCache.hpp',
                                'include/triglav/graphics_api/Shader.hpp',
                                'include/triglav/graphics_api/Surface.hpp',
                                'include/triglav/graphics_api/Swapchain.hpp',
                                'include/triglav/graphics_api/Synchronization.hpp',
                                'include/triglav/graphics_api/Texture.hpp',
                                'include/triglav/graphics_api/TextureView.hpp',
                                'include/triglav/graphics_api/TimestampArray.hpp',
                                'include/triglav/graphics_api/ray_tracing/AccelerationStructure.hpp',
                                'include/triglav/graphics_api/ray_tracing/AccelerationStructurePool.hpp',
                                'include/triglav/graphics_api/ray_tracing/Geometry.hpp',
                                'include/triglav/graphics_api/ray_tracing/InstanceBuilder.hpp',
                                'include/triglav/graphics_api/ray_tracing/RayTracing.hpp',
                                'include/triglav/graphics_api/ray_tracing/RayTracingPipeline.hpp',
                                'include/triglav/graphics_api/ray_tracing/ShaderBindingTable.hpp',
                                'include/triglav/graphics_api/vulkan/DynamicProcedures.hpp',
                                'include/triglav/graphics_api/vulkan/Extensions.hpp',
                                'include/triglav/graphics_api/vulkan/ObjectWrapper.hpp',
                                'src/Buffer.cpp',
                                'src/BufferHeap.cpp',
                                'src/CommandList.cpp',
                                'src/DescriptorArray.cpp',
                                'src/DescriptorPool.cpp',
                                'src/DescriptorLayoutCache.cpp',
                                'src/DescriptorView.cpp',
                                'src/DescriptorWriter.cpp',
                                'src/Device.cpp',
                                'src/Framebuffer.cpp',
                                'src/GraphicsApi.cpp',
                                'src/Instance.cpp',
                                'src/Pipeline.cpp',
                                'src/PipelineBuilder.cpp',
                                'src/QueueManager.cpp',
                                'src/RenderTarget.cpp',
                                'src/Sampler.cpp',
                                'src/SamplerCache.cpp',
                                'src/Shader.cpp',
                                'src/Surface.cpp',
                                'src/Swapchain.cpp',
                                'src/Synchronization.cpp',
                                'src/Texture.cpp',
                                'src/TextureView.cpp',
                                'src/TimestampArray.cpp',
                                'src/ray_tracing/AccelerationStructure.cpp',
                                'src/ray_tracing/AccelerationStructurePool.cpp',
                                'src/ray_tracing/Geometry.cpp',
                                'src/ray_tracing/InstanceBuilder.cpp',
                                'src/ray_tracing/RayTracing.cpp',
                                'src/ray_tracing/RayTracingPipeline.cpp',
                                'src/ray_tracing/ShaderBindingTable.cpp',
                                'src/vulkan/DynamicProcedures.cpp',
                                'src/vulkan/Extensions.cpp',
                                'src/vulkan/Util.cpp',
                                'src/vulkan/Util.hpp',
                             ])

graphics_api_lib = static_library('graphics_api',
                                  sources : graphics_api_sources,
                                  dependencies : [vulkan, desktop, core, spdlog, threading, io],
                                  include_directories : ['include/triglav/graphics_api'],
)

graphics_api = declare_dependency(
    include_directories : ['include'],
    link_with : graphics_api_lib,
    dependencies : [vulkan, desktop, core, threading, io],
)
